(this["webpackJsonpzadanie-rekrutacyjne"]=this["webpackJsonpzadanie-rekrutacyjne"]||[]).push([[0],{16:function(e,t,n){e.exports={Form:"updateUser_Form__28XqK",Mode:"updateUser_Mode__awQfm"}},28:function(e,t,n){e.exports={Button:"button_Button__21Dak",Edit:"button_Edit__OXXIt",Delete:"button_Delete__2jAVr",Add:"button_Add__2ckCj",Cancel:"button_Cancel__15Zge",Submit:"button_Submit__3vhUj"}},31:function(e,t,n){e.exports={Form:"userForm_Form__qjGyQ",Mode:"userForm_Mode__DKng2",ButtonsContainer:"userForm_ButtonsContainer__1bbcJ",LoadingText:"userForm_LoadingText__1S5Yo"}},48:function(e,t,n){e.exports={Backdrop:"backdrop_Backdrop__10t2Q"}},49:function(e,t,n){e.exports={PopUp:"popup_PopUp__3TvZP"}},50:function(e,t,n){e.exports={Username:"tableHeader_Username__1OqWh"}},51:function(e,t,n){e.exports={AddUser:"dashboard_AddUser__3VY16"}},53:function(e,t,n){e.exports=n(95)},62:function(e,t,n){},95:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(20),o=n.n(c),l=n(13),u=n(12),i=n(15),d=n(47),s=(n(62),n(5)),m=n(14),E=n(96),p=n(48),f=n.n(p),_=function(e){return r.a.createElement("div",{className:f.a.Backdrop})},b=n(28),S=n.n(b),U=function(e){return r.a.createElement("button",{className:[S.a.Button,S.a[e.btnStyleType]].join(" "),onClick:e.clicked,disabled:e.disabled,type:e.type},e.children)},g=n(49),y=n.n(g),h=r.a.memo((function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement(_,{show:e.show}),r.a.createElement("div",{className:y.a.PopUp},e.children,r.a.createElement("div",{style:{display:"flex",justifyContent:"flex-end",marginTop:"25px"}},r.a.createElement(U,{btnStyleType:"Cancel",clicked:e.cancelClicked},"Cancel"),r.a.createElement(U,{btnStyleType:"Delete",clicked:e.deleteClicked},"Delete"))))}),(function(e,t){return t.show===e.show})),T=function(e){var t="?userId=".concat(e.id);return r.a.createElement("tr",null,r.a.createElement("td",null,e.id),r.a.createElement("td",null,e.name),r.a.createElement("td",null,e.username),r.a.createElement("td",null,e.city),r.a.createElement("td",null,e.email),r.a.createElement("td",null,r.a.createElement(l.b,{to:"/editUser".concat(t)},r.a.createElement(U,{btnStyleType:"Edit",clicked:e.userEdit},"Edit"))),r.a.createElement("td",null,r.a.createElement(U,{btnStyleType:"Delete",clicked:e.userDelete},"delete")))},j=function(e){var t=e.users.map((function(t){return r.a.createElement(T,{key:t.id,id:t.id,name:t.name,username:t.username,city:t.address.city,email:t.email,userEdit:e.userEdit,userDelete:function(){return e.userDelete(t.id)},link:"/edit"})}));return r.a.createElement("tbody",null,t)},v=n(50),C=n.n(v),O=function(e){var t=r.a.createElement(r.a.Fragment,null,"\u25bd"),n=["id","Name","Username","Email","City","Edit","Delete"].map((function(n){return"Username"===n?r.a.createElement("th",{key:n,onClick:e.sort,className:C.a.Username},n," ",t):r.a.createElement("th",{key:n},n)}));return r.a.createElement("thead",null,r.a.createElement("tr",null,n))},k=n(6),D=n(19),R=n.n(D),A="https://my-json-server.typicode.com/karolkproexe/jsonplaceholderdb/data",F=function(e,t){return console.log("add..."),function(n){n({type:"ADD_USER_START"}),R.a.post(e,t).then((function(e){n(function(e,t){return{type:"ADD_USER_SUCCESS",userData:Object(k.a)(Object(k.a)({},t),{},{id:e})}}(e.data.id,t)),console.log("added")})).catch((function(e){console.log(e)}))}},I=n(51),N=n.n(I),x=Object(u.b)((function(e){return{loading:e.loading,users:e.users,error:e.error}}),(function(e){return{onFetchUsers:function(){return e((function(e){e({type:"FETCH_USERS_START"}),R.a.get(A).then((function(t){e({type:"FETCH_USERS_SUCCESS",users:t.data})})).catch((function(e){console.log(e)}))}))},onDeleteUser:function(t){return e(function(e){return console.log("deleting..."),function(t){t({type:"DELETE_USER_START"}),R.a.delete("".concat(A,"/").concat(e)).then((function(n){t(function(e){return{type:"DELETE_USER_SUCCESS",userId:e}}(e)),console.log("deleted")})).catch((function(e){return console.log(e)}))}}(t))},updateUserInit:function(){return e({type:"UPDATE_USER_INIT"})},onSortUsersByName:function(t){return e(function(e){return{type:"SORT_USERS",order:e}}(t))}}}))((function(e){var t=Object(a.useState)(null),n=Object(m.a)(t,2),c=n[0],o=n[1],u=Object(a.useState)(!1),i=Object(m.a)(u,2),d=i[0],s=i[1];Object(a.useEffect)((function(){e.onFetchUsers(),console.log("fetching...")}),[]);var p=function(){e.updateUserInit()},f=e.error?"Co\u015b posz\u0142o nie tak":r.a.createElement("span",null,"Loading...");return e.users&&!e.loading&&(f=r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:N.a.AddUser},r.a.createElement(l.b,{to:"/AddUser"},r.a.createElement(U,{btnStyleType:"Add",clicked:p},"Add User"))),r.a.createElement(E.a,{striped:!0,bordered:!0,hover:!0},r.a.createElement(O,{sort:function(){s(!d),e.onSortUsersByName(d)}}),r.a.createElement(j,{users:e.users,userDelete:function(e){return o(e)},userEdit:p})))),r.a.createElement(r.a.Fragment,null,c&&r.a.createElement(h,{cancelClicked:function(){return o(null)},deleteClicked:function(){e.onDeleteUser(c),o(null)}},"Czy na pewno chcesz usun\u0105\u0107?"),f)})),B=n(23),L=n(97),w=function(e){return r.a.createElement(L.a.Group,{controlId:e.id},r.a.createElement(L.a.Label,null,e.label),r.a.createElement(L.a.Control,{required:!0,type:e.config.type,placeholder:e.config.placeholder,value:e.config.value,onChange:e.changed}),r.a.createElement(L.a.Control.Feedback,{type:"invalid"},e.invalidLabel))},H=n(31),P=n.n(H),M={address:{city:"",geo:{lat:"",lng:""},street:"",suite:"",zipcode:""},company:{bs:"",catchPhrase:"",name:""},email:"",id:"",name:"",phone:"",username:"",website:""},z={email:{type:"email",placeholder:"Mail Address",value:""},name:{type:"text",placeholder:"Enter name",value:""}},V=Object(u.b)((function(e){return{loading:e.loading}}),null)((function(e){var t=Object(a.useState)(z),n=Object(m.a)(t,2),c=n[0],o=n[1],l=Object(a.useState)(M),u=Object(m.a)(l,2),i=u[0],d=u[1],s=Object(a.useState)(!1),E=Object(m.a)(s,2),p=E[0],f=E[1],_=function(e,t){var n=Object(k.a)(Object(k.a)({},c),{},Object(B.a)({},e,Object(k.a)(Object(k.a)({},c[e]),{},{value:t.target.value})));o(n),d(Object(k.a)(Object(k.a)({},i),{},{name:n.name.value,email:n.email.value}))},b=e.loading?r.a.createElement("span",null,"Loading..."):null;return r.a.createElement(L.a,{onSubmit:function(t){if(!1===t.currentTarget.checkValidity())return t.preventDefault(),t.stopPropagation(),void f(!0);t.preventDefault(),e.onSubmitHandler(i)},noValidate:!0,validated:p},r.a.createElement(w,{id:"email",label:"Email address",config:c.email,changed:function(e){return _("email",e)},invalidLabel:"Invalid email"}),r.a.createElement(w,{id:"name",label:"Name",config:c.name,changed:function(e){return _("name",e)}}),r.a.createElement("div",{className:P.a.ButtonsContainer},r.a.createElement(U,{btnStyleType:"Cancel",clicked:e.onCancelHandler,type:"button"},"Cancel"),r.a.createElement(U,{btnStyleType:"Submit"},"Submit")),r.a.createElement("div",{className:P.a.LoadingText},b))})),X=n(16),q=n.n(X),J=r.a.memo((function(e){var t=function(){e.history.goBack()},n=e.updatedUser?r.a.createElement(s.a,{to:"/"}):null;return r.a.createElement(r.a.Fragment,null,n,r.a.createElement("div",{className:q.a.Form},r.a.createElement("p",{className:q.a.Mode},"Add user"),r.a.createElement(V,{canceled:t,onSubmitHandler:function(t){return function(t){e.onAddUser("https://my-json-server.typicode.com/karolkproexe/jsonplaceholderdb/data",t)}(t)},onCancelHandler:t})))})),Q=Object(u.b)((function(e){return{updatedUser:e.updatedUser}}),(function(e){return{onAddUser:function(t,n){return e(F(t,n))}}}))(J),G=n(52),K=n.n(G),Y=r.a.memo((function(e){var t=K.a.parse(e.location.search),n="https://my-json-server.typicode.com/karolkproexe/jsonplaceholderdb/data/".concat(t.userId),a=function(){e.history.goBack()},c=e.updatedUser?r.a.createElement(s.a,{to:"/"}):null;return r.a.createElement(r.a.Fragment,null,c,r.a.createElement("div",{className:q.a.Form},r.a.createElement("p",{className:q.a.Mode},"Edit User"),r.a.createElement(V,{canceled:a,onSubmitHandler:function(t){return function(t){e.onEditUser(n,t)}(t)},onCancelHandler:a})))})),Z=Object(u.b)((function(e){return{updatedUser:e.updatedUser}}),(function(e){return{onEditUser:function(t,n){return e(function(e,t){return console.log("edit..."),function(n){n({type:"EDIT_USER_START"}),R.a.put(e,{name:t.name,email:t.email}).then((function(e){console.log(e.data),n({type:"EDIT_USER_SUCCESS"}),console.log("edited")})).catch((function(e){return console.log(e)}))}}(t,n))}}}))(Y);var W=Object(s.g)((function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(s.d,null,r.a.createElement(s.b,{path:"/editUser",component:Z}),r.a.createElement(s.b,{path:"/addUser",component:Q}),r.a.createElement(s.b,{path:"/",component:x})))})),$=n(32),ee=function(e,t){return Object(k.a)(Object(k.a)({},e),t)},te={users:[],loading:!1,updatedUser:!1,error:!1},ne=function(e,t){return ee(e,{loading:!0})},ae=function(e,t){return ee(e,{users:t.users,error:!1,loading:!1})},re=function(e,t){return ee(e,{loading:!0})},ce=function(e,t){var n=e.users.filter((function(e){return e.id!==t.userId})),a=Object(k.a)(Object(k.a)({},e),{users:n,loading:!1});return console.log(a),ee(e,{users:n,loading:!1})},oe=function(e,t){return ee(e,{updatedUser:!1})},le=function(e,t){return ee(e,{loading:!0})},ue=function(e,t){var n=[].concat(Object($.a)(e.users),[t.userData]);return console.log(n),ee(e,{users:n,loading:!0,updatedUser:!0})},ie=function(e,t){return ee(e,{loading:!0})},de=function(e,t){return ee(e,{updatedUser:!0,loading:!0})},se=function(e,t){var n=[];return(n=Object($.a)(e.users)).sort((function(e,n){return e.username<n.username?!0===t.order?-1:1:e.username>n.username?!0===t.order?1:-1:0})),ee(e,{users:n})},me=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:te,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_USERS_START":return ne(e,t);case"FETCH_USERS_SUCCESS":return ae(e,t);case"DELETE_USER_START":return re(e,t);case"DELETE_USER_SUCCESS":return ce(e,t);case"UPDATE_USER_INIT":return oe(e,t);case"ADD_USER_START":return le(e,t);case"ADD_USER_SUCCESS":return ue(e,t);case"EDIT_USER_START":return ie(e,t);case"EDIT_USER_SUCCESS":return de(e,t);case"SORT_USERS":return se(e,t);default:return e}},Ee=(n(94),window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||i.c),pe=Object(i.d)(me,Ee(Object(i.a)(d.a))),fe=r.a.createElement(u.a,{store:pe},r.a.createElement(l.a,null,r.a.createElement(W,null)));o.a.render(fe,document.getElementById("root"))}},[[53,1,2]]]);
//# sourceMappingURL=main.12602c4f.chunk.js.map